{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Toast } from 'react-weui';\nimport Router from 'next/router'; //import component\n\nimport SiteHeader from \"../components/Common/SiteHeader\";\nimport AuthService from '../service/AuthService';\nimport { withRouter } from \"next/router\";\n\nvar AuthPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AuthPage, _Component);\n\n  function AuthPage(props) {\n    var _this;\n\n    _classCallCheck(this, AuthPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AuthPage).call(this, props));\n    _this.state = {\n      showToast: true\n    };\n    return _this;\n  }\n\n  _createClass(AuthPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      localStorage.setItem('userToken', this.props.router.query.token);\n      localStorage.setItem('authString', this.props.router.query.authString);\n      localStorage.setItem('isLogIn', true);\n      this.getMe();\n    }\n  }, {\n    key: \"getMe\",\n    value: function getMe() {\n      var _this2 = this;\n\n      var params = {};\n      AuthService.getMe(params).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        localStorage.setItem('userObject', _JSON$stringify(responseJson));\n      }).then(function () {\n        window.open(_this2.props.router.query.origUrl, \"_self\");\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App-body\"\n      }, React.createElement(SiteHeader, null), React.createElement(\"div\", {\n        className: \"App-body\"\n      }, React.createElement(Toast, {\n        icon: \"loading\",\n        show: this.state.showToast\n      }, \"\\u5FAE\\u4FE1\\u767B\\u5F55\\u4E2D...\")));\n    }\n  }]);\n\n  return AuthPage;\n}(Component);\n\nexport default withRouter(AuthPage);","map":null,"metadata":{},"sourceType":"module"}