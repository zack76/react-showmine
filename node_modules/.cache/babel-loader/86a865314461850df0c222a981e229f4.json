{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Zac/Sysbox/SHM_React/shm-react/my-app/components/JieLongDetails/JieLongPopUpMenu.js\";\nimport React from 'react';\nimport { ActionSheet, Toast } from \"react-weui\";\nimport Lang from '../../lang/Lang';\nimport Router from \"next/dist/client/router\";\nimport JielongService from \"../../service/JielongService\";\n\nvar JieLongPopUpMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(JieLongPopUpMenu, _React$Component);\n\n  function JieLongPopUpMenu(props) {\n    var _this;\n\n    _classCallCheck(this, JieLongPopUpMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(JieLongPopUpMenu).call(this, props));\n    _this.state = {\n      item: _this.props.item,\n      showHideMenu: _this.props.showHideMenu,\n      showLoading: _this.props.showLoading,\n      iosShow: _this.props.iosShow,\n      userJieLongInfo: _this.props.userJieLongInfo\n    };\n    return _this;\n  }\n\n  _createClass(JieLongPopUpMenu, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(object, nextProps) {\n      this.setState({\n        showLoading: object.showLoading,\n        item: object.item,\n        iosShow: object.iosShow\n      });\n    }\n  }, {\n    key: \"updateJielong\",\n    value: function updateJielong() {\n      this.state.showHideMenu();\n      var params = {\n        itemId: this.state.item.id,\n        is_update: true,\n        jielongId: this.state.userJieLongInfo.id\n      };\n      console.log(this.state.userJieLongInfo);\n      Router.push({\n        pathname: '/checkoutPage',\n        query: params\n      });\n    }\n  }, {\n    key: \"cancelJielong\",\n    value: function cancelJielong() {\n      var _this2 = this;\n\n      this.state.showHideMenu();\n      this.setState({\n        showLoading: true\n      });\n      var id = this.state.userJieLongInfo.id;\n      var url = \"https://www.showmine66.com/ma/i/\" + this.state.item.id;\n      JielongService.cancelJielong(id, url, {}).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this2.setState({\n          showLoading: false\n        });\n\n        window.location.reload();\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var showLoading = this.state.showLoading;\n      var actions = [{\n        label: Lang.translate('CANCEL'),\n        onClick: function onClick() {\n          _this3.state.showHideMenu();\n        }\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(ActionSheet, {\n        menus: [{\n          label: Lang.translate('ITEM.EDIT.JIELONG'),\n          onClick: function onClick() {\n            _this3.updateJielong();\n          }\n        }, {\n          label: Lang.translate('ITEM.CANCEL.JIELONG'),\n          onClick: function onClick() {\n            _this3.cancelJielong();\n          }\n        }],\n        actions: actions,\n        show: this.state.iosShow === true,\n        type: \"ios\",\n        onRequestClose: function onRequestClose() {\n          _this3.state.showHideMenu();\n        },\n        style: styles.menuFont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Toast, {\n        icon: \"loading\",\n        show: showLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, Lang.translate('LOADING'), \"...\"));\n    }\n  }]);\n\n  return JieLongPopUpMenu;\n}(React.Component);\n\nvar styles = {\n  menuFont: {\n    color: '#000'\n  }\n};\nexport default JieLongPopUpMenu;","map":{"version":3,"sources":["/Users/Zac/Sysbox/SHM_React/shm-react/my-app/components/JieLongDetails/JieLongPopUpMenu.js"],"names":["React","ActionSheet","Toast","Lang","Router","JielongService","JieLongPopUpMenu","props","state","item","showHideMenu","showLoading","iosShow","userJieLongInfo","object","nextProps","setState","params","itemId","id","is_update","jielongId","console","log","push","pathname","query","url","cancelJielong","then","response","json","responseJson","window","location","reload","catch","error","actions","label","translate","onClick","updateJielong","styles","menuFont","Component","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {ActionSheet, Toast} from \"react-weui\";\nimport Lang from '../../lang/Lang';\nimport Router from \"next/dist/client/router\";\nimport JielongService from \"../../service/JielongService\";\n\nclass JieLongPopUpMenu extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            item: this.props.item,\n            showHideMenu: this.props.showHideMenu,\n            showLoading: this.props.showLoading,\n            iosShow: this.props.iosShow,\n            userJieLongInfo: this.props.userJieLongInfo,\n        };\n    }\n\n    componentWillReceiveProps(object, nextProps) {\n        this.setState({\n            showLoading: object.showLoading,\n            item: object.item,\n            iosShow: object.iosShow\n        })\n    }\n\n    updateJielong() {\n        this.state.showHideMenu();\n        let params = { itemId: this.state.item.id, is_update: true, jielongId: this.state.userJieLongInfo.id};\n        console.log(this.state.userJieLongInfo);\n        Router.push({\n            pathname: '/checkoutPage',\n            query: params,\n        });\n    }\n\n    cancelJielong() {\n        this.state.showHideMenu();\n        this.setState({showLoading: true});\n        let id = this.state.userJieLongInfo.id;\n        let url = \"https://www.showmine66.com/ma/i/\" + this.state.item.id;\n        JielongService.cancelJielong(id, url, {})\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.setState({showLoading: false});\n                window.location.reload();\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    render(){\n        const showLoading = this.state.showLoading;\n        const actions = [{\n            label: Lang.translate('CANCEL'),\n            onClick: ()=>{this.state.showHideMenu()}\n        }];\n        return (\n            <div>\n                <ActionSheet\n                    menus={[{\n                        label: Lang.translate('ITEM.EDIT.JIELONG'),\n                        onClick: ()=> {this.updateJielong()}\n                    }, {\n                        label: Lang.translate('ITEM.CANCEL.JIELONG'),\n                        onClick: ()=> {this.cancelJielong()}\n                    }]}\n                    actions={actions}\n                    show={this.state.iosShow === true}\n                    type=\"ios\"\n                    onRequestClose={ ()=>{this.state.showHideMenu()} }\n                    style={styles.menuFont}\n                />\n                <Toast icon=\"loading\" show={showLoading}>{Lang.translate('LOADING')}...</Toast>\n            </div>\n        );\n    }\n}\n\n\nconst styles = {\n    menuFont: {\n        color: '#000'\n    }\n};\n\nexport default JieLongPopUpMenu;\n"]},"metadata":{},"sourceType":"module"}