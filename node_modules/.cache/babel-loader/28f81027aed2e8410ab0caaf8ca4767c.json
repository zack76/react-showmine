{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Zac/Sysbox/SHM_React/shm-react/my-app/pages/checkoutPage.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Button, TextArea, ActionSheet, Switch, Radio, Cells, CellsTitle, Cell, CellHeader, CellBody, CellFooter, Form, FormCell, Input, Label, LoadMore, Toast } from 'react-weui';\nimport ItemService from '../service/ItemService';\nimport JielongService from '../service/JielongService';\nimport PaymentService from '../service/PaymentService'; //import styles\n\nimport 'weui';\nimport 'react-weui/build/packages/react-weui.css'; //import component\n\nimport Head from \"../components/head\";\nimport { Config } from \"../Config\";\n\nvar checkoutPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(checkoutPage, _Component);\n\n  function checkoutPage(props) {\n    var _this;\n\n    _classCallCheck(this, checkoutPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(checkoutPage).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"addJielong\", function () {\n      console.log(_this.state.locationId); // this.setState({showLoading: true});\n      // let id  = this.state.itemId;\n      // let configObj = {};\n      // let params = {\n      //     comments:this.state.notes,\n      //     config: JSON.stringify(configObj),\n      //     item_url: \"https://www.showmine66.com/ma/i/\" + this.state.item.id,\n      //     location: this.state.item.company.pickup_locations[this.state.locationId].id,\n      //     is_private: this.state.hideAvatar,\n      //     quantity: [\n      //     ],\n      //     state_redirect_obj: {\n      //         url: Config.webAddress,\n      //         // url: \"http://localhost:3000\",\n      //     },\n      //     voucher_base_url: \"https://www.showmine66.com/ma/jl/vci/VOUCHERID\",\n      //     wechat_auth_url: \"https://www.showmine66.com/a/wu?domain=https%253A%252F%252Fwww.showmine66.com&origurl=https%253A%252F%252Fwww.showmine66.com%252Fma%252Fi%252Fdbfcefa936b4cd6d5709953b5ea12673%2523app-top\"\n      // };\n      // for (let index = 0; index <= this.state.quantityOfChildren.length; index++) {\n      //     if (this.state.quantityOfChildren[index]!==null && this.state.quantityOfChildren[index]!== undefined) {\n      //         params.quantity.push({\n      //             item_id: this.state.item.children[index].id,\n      //             quantity: this.state.quantityOfChildren[index],\n      //             price: this.state.priceOfChildren[index].toString(),\n      //         });\n      //     }\n      // }\n      // if (this.state.is_update) {\n      //     JielongService.updateJielong(params, id)\n      //         .then((response) => response.json())\n      //         .then((responseJson) => {\n      //             this.setState({\n      //                 jielong: responseJson,\n      //             });\n      //             if(this.state.payment_method == \"NoPayment\") {\n      //                 this.generateVoucher();\n      //             }\n      //             else {\n      //                 this.processPayment();\n      //             }\n      //         })\n      //         .catch((error) => {\n      //             console.error(error);\n      //         });\n      // }\n      // else {\n      //     JielongService.addJielong(params, id)\n      //         .then((response) => response.json())\n      //         .then((responseJson) => {\n      //             this.setState({\n      //                 jielong: responseJson,\n      //             });\n      //             if(this.state.payment_method == \"NoPayment\") {\n      //                 this.generateVoucher();\n      //             }\n      //             else {\n      //                 this.processPayment();\n      //             }\n      //         })\n      //         .catch((error) => {\n      //             console.error(error);\n      //         });\n      // }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"processPayment\", function () {\n      // \"redirectUrl\": Config.webAddress + \"index?itemId=\" + this.state.jielong.item_id\n      var configObj = {\n        \"source\": \"jielong_payment\",\n        \"item_comment_id\": _this.state.jielong.id,\n        \"item_id\": _this.state.jielong.item_id,\n        \"redirectUrl\": Config.webAddress + \"index?itemId=\" + _this.state.jielong.item_id\n      };\n      var params = {\n        config: _JSON$stringify(configObj),\n        item_comment_id: _this.state.jielong.id,\n        payment_method: _this.state.payment_method\n      };\n      PaymentService.getToPay(params).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this.setState({\n          payment: responseJson\n        });\n\n        window.open(responseJson.pay_url, \"_self\");\n\n        _this.setState({\n          showLoading: false\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    });\n\n    _this.state = {\n      jielong: 'none',\n      payment: 'none',\n      processPayment: false,\n      showLocation: false,\n      ios_show: false,\n      actions: [{\n        label: '取消',\n        onClick: _this.hide.bind(_assertThisInitialized(_this))\n      }],\n      quantity: 0,\n      itemId: '',\n      name: '',\n      contact_number: '',\n      address: '',\n      notes: '',\n      hideAvatar: true,\n      payment_method: null,\n      pickup_location: '',\n      quantityOfChildren: [],\n      priceOfChildren: [],\n      totalPrice: 0,\n      showLoading: false,\n      loadingTimer: null,\n      is_update: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.switch = _this.switch.bind(_assertThisInitialized(_this));\n    _this.handlePayment = _this.handlePayment.bind(_assertThisInitialized(_this));\n    _this.handleQuantity = _this.handleQuantity.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(checkoutPage, [{\n    key: \"placeOrder\",\n    value: function placeOrder() {\n      this.setState({\n        processPayment: true\n      });\n    }\n  }, {\n    key: \"generateVoucher\",\n    value: function generateVoucher() {\n      var _this2 = this;\n\n      var id = this.state.jielong.id;\n      var params = {\n        is_update: this.state.is_update,\n        item_url: \"https://www.showmine66.com/ma/i/\" + this.state.item.id,\n        voucher_base_url: \"https://www.showmine66.com/ma/jl/vci/VOUCHERID\"\n      };\n      JielongService.generateVoucher(params, id).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this2.setState({\n          voucher: responseJson\n        });\n\n        window.open(responseJson.url, \"_self\");\n\n        _this2.setState({\n          showLoading: false\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleTotalPrice\",\n    value: function handleTotalPrice() {\n      this.state.totalPrice = 0;\n\n      for (var index = 0; index <= this.state.priceOfChildren.length; index++) {\n        if (this.state.priceOfChildren[index]) {\n          this.state.totalPrice = this.state.totalPrice + this.state.priceOfChildren[index];\n        }\n      }\n\n      this.setState({\n        totalPrice: this.state.totalPrice\n      });\n    }\n  }, {\n    key: \"handleQuantity\",\n    value: function handleQuantity(event) {\n      this.state.quantityOfChildren[event.target.name] = Number(event.target.value);\n      this.state.priceOfChildren[event.target.name] = this.state.quantityOfChildren[event.target.name] * this.state.item.children[event.target.name].price;\n      this.setState({\n        quantityOfChildren: this.state.quantityOfChildren,\n        priceOfChildren: this.state.priceOfChildren\n      });\n      this.handleTotalPrice();\n    }\n  }, {\n    key: \"minus\",\n    value: function minus(index) {\n      if (!this.state.quantityOfChildren[index] || this.state.quantityOfChildren[index] === null || this.state.quantityOfChildren[index] === undefined || this.state.quantityOfChildren[index] === 0) {\n        console.log('Cannot minus');\n      } else {\n        this.state.quantityOfChildren[index] = this.state.quantityOfChildren[index] - 1;\n        this.state.priceOfChildren[index] = this.state.quantityOfChildren[index] * this.state.item.children[index].price;\n        this.setState({\n          quantityOfChildren: this.state.quantityOfChildren,\n          priceOfChildren: this.state.priceOfChildren\n        });\n        this.handleTotalPrice();\n      }\n    }\n  }, {\n    key: \"plus\",\n    value: function plus(index) {\n      if (!this.state.quantityOfChildren[index] || this.state.quantityOfChildren[index] === null || this.state.quantityOfChildren[index] === undefined) {\n        this.state.quantityOfChildren[index] = 0;\n      }\n\n      this.state.quantityOfChildren[index] = this.state.quantityOfChildren[index] + 1;\n      this.state.priceOfChildren[index] = this.state.quantityOfChildren[index] * this.state.item.children[index].price;\n      this.setState({\n        quantityOfChildren: this.state.quantityOfChildren,\n        priceOfChildren: this.state.priceOfChildren\n      });\n      this.handleTotalPrice();\n    }\n  }, {\n    key: \"handlePayment\",\n    value: function handlePayment(event) {\n      this.setState({\n        payment_method: event.target.value\n      });\n    }\n  }, {\n    key: \"switch\",\n    value: function _switch() {\n      this.setState({\n        hideAvatar: !this.state.hideAvatar\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.setState({\n        ios_show: false\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var params = this.props.url.query.itemId;\n\n      if (this.props.url.query.is_update) {\n        this.setState({\n          is_update: this.props.url.query.is_update\n        });\n      }\n\n      ItemService.getItemDetail(params).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this3.setState({\n          item: responseJson,\n          itemId: responseJson.id\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.state.loadingTimer && clearTimeout(this.state.loadingTimer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      /**\n       * Display the pickup locations list\n       */\n      var locationsList = null;\n\n      if (this.state.item) {\n        locationsList = this.state.item.company.pickup_locations.map(function (location) {\n          return React.createElement(ActionSheet, {\n            key: location.id,\n            menus: [{\n              label: location.title,\n              onClick: function onClick() {\n                _this4.setState({\n                  locationId: 10,\n                  showLocation: true\n                });\n\n                _this4.hide();\n              }\n            }],\n            actions: _this4.state.actions,\n            show: _this4.state.ios_show,\n            type: \"ios\",\n            onRequestClose: function onRequestClose(e) {\n              return _this4.setState({\n                ios_show: false\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 278\n            },\n            __self: this\n          });\n        });\n      }\n      /**\n       * Display children & handle the quantity for each one\n       */\n\n\n      var listItems = null;\n\n      if (this.state.item) {\n        listItems = this.state.item.children.map(function (item, index) {\n          return React.createElement(\"div\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"checkout-info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 309\n            },\n            __self: this\n          }, item.images[0] ? React.createElement(\"div\", {\n            className: \"checkout-img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 311\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            height: 150,\n            width: 150,\n            src: item.images[0].url,\n            role: \"presentation\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 312\n            },\n            __self: this\n          })) : null, React.createElement(\"div\", {\n            className: \"checkout-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 317\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"checkout-subtitle\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318\n            },\n            __self: this\n          }, item.title), React.createElement(\"div\", {\n            className: \"checkout-price\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          }, \"$\", item.price), React.createElement(\"div\", {\n            className: \"Number-Picker\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 322\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"picker-button\",\n            onClick: function onClick() {\n              _this4.minus(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323\n            },\n            __self: this\n          }, \" - \"), React.createElement(\"input\", {\n            className: \"picker\",\n            type: \"number\",\n            min: \"0\",\n            max: \"1000\",\n            name: index,\n            value: _this4.state.quantityOfChildren[index] ? _this4.state.quantityOfChildren[index] : 0,\n            onChange: _this4.handleQuantity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            className: \"picker-button\",\n            onClick: function onClick() {\n              _this4.plus(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 327\n            },\n            __self: this\n          }, \" + \")))), React.createElement(\"div\", {\n            className: \"location-tag\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 331\n            },\n            __self: this\n          }, item.locations[0].title), React.createElement(\"div\", {\n            className: \"divider\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332\n            },\n            __self: this\n          }));\n        });\n      }\n      /**\n       * Display children & quantity for the checkout\n       */\n\n\n      var checkoutLists = null;\n\n      if (this.state.item) {\n        checkoutLists = this.state.item.children.map(function (item, index) {\n          return React.createElement(\"div\", {\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 345\n            },\n            __self: this\n          }, _this4.state.quantityOfChildren[index] && _this4.state.quantityOfChildren[index] !== 0 ? React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 347\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 348\n            },\n            __self: this\n          }, item.title, \" \\xD7 \", _this4.state.quantityOfChildren[index]), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 349\n            },\n            __self: this\n          }, \"\\u5546\\u54C1\\u603B\\u989D\\uFF1A$\", _this4.state.priceOfChildren[index])) : null);\n        });\n      }\n      /**\n       * The page content\n       */\n\n\n      if (this.state.item) {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }, React.createElement(Head, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, React.createElement(\"meta\", {\n          name: \"viewport\",\n          content: \"initial-scale=1.0, width=device-width\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        })), React.createElement(\"header\", {\n          className: \"App-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, \"ShowMine\")), this.state.processPayment ? React.createElement(\"div\", {\n          className: \"App-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"payment-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"payment-block-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }, \"\\u652F\\u4ED8\\u91D1\\u989D\", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, \"\\u603B\\u8BA1\\uFF1A$\", this.state.totalPrice)), React.createElement(\"div\", {\n          className: \"payment-block-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379\n          },\n          __self: this\n        }, checkoutLists, React.createElement(\"div\", {\n          style: {\n            fontSize: 24\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381\n          },\n          __self: this\n        }, \"\\u603B\\u8BA1:\", React.createElement(\"span\", {\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381\n          },\n          __self: this\n        }, \" $\", this.state.totalPrice)))), React.createElement(\"div\", {\n          className: \"payment-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"payment-block-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, \"\\u8BF7\\u9009\\u62E9\\u652F\\u4ED8\\u65B9\\u5F0F:\"), React.createElement(Form, {\n          style: {\n            fontSize: 16\n          },\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }, this.state.item && this.state.item.online_payment == true ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"radio1\",\n          value: \"OMIPAY_WECHAT\",\n          onChange: this.handlePayment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        })), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395\n          },\n          __self: this\n        }, \"\\u5FAE\\u4FE1\\u652F\\u4ED8\")), React.createElement(FormCell, {\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"radio1\",\n          value: \"\\u94F6\\u884C\\u5361\\u652F\\u4ED8\",\n          onChange: this.handlePayment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399\n          },\n          __self: this\n        })), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401\n          },\n          __self: this\n        }, \"\\u94F6\\u884C\\u5361\\u652F\\u4ED8\")), React.createElement(FormCell, {\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"radio1\",\n          value: \"PayPal\\u652F\\u4ED8\",\n          onChange: this.handlePayment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        })), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407\n          },\n          __self: this\n        }, \"PayPal\\u652F\\u4ED8\"))) : React.createElement(FormCell, {\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"radio1\",\n          value: \"NoPayment\",\n          onChange: this.handlePayment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        })), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416\n          },\n          __self: this\n        }, \"\\u5230\\u5E97\\u652F\\u4ED8\")), React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 419\n          },\n          __self: this\n        }, this.state.payment_method == \"NoPayment\" ? React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421\n          },\n          __self: this\n        }, \"\\u8BA2\\u5355\\u5DF2\\u786E\\u8BA4\\uFF0C\\u8BF7\\u5230\\u5E97\\u652F\\u4ED8\\u3002\") : React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 423\n          },\n          __self: this\n        }, \"\\u4F7F\\u7528\", this.state.payment_method, \"\\u5B8C\\u6210\\u4EA4\\u6613\\u3002\\uFF08\\u63D0\\u793A\\uFF1A\\u8BF7\\u572830\\u5206\\u949F\\u5185\\u5B8C\\u6210\\u652F\\u4ED8\\uFF0C\\u5426\\u5219\\u8BA2\\u5355\\u4F1A\\u64A4\\u9500\\uFF09\")))), this.state.showLocation ? React.createElement(\"div\", {\n          className: \"payment-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 429\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"payment-block-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 430\n          },\n          __self: this\n        }, \"\\u53D6\\u8D27\\u5730\\u70B9\"), React.createElement(Form, {\n          style: {\n            fontSize: 16\n          },\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          radio: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 432\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          name: \"radio2\",\n          defaultChecked: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434\n          },\n          __self: this\n        })), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 437\n          },\n          __self: this\n        }, this.state.pickup_location)))) : null, this.state.notes ? React.createElement(\"div\", {\n          className: \"payment-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"payment-block-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 446\n          },\n          __self: this\n        }, \"\\u5907\\u6CE8\"), React.createElement(\"div\", {\n          className: \"payment-block-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        }, this.state.notes))) : null, React.createElement(\"div\", {\n          className: \"checkout-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 454\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            _this4.addJielong();\n          },\n          disabled: this.state.payment_method && this.state.name && this.state.contact_number && this.state.address && this.state.showLocation ? false : true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 455\n          },\n          __self: this\n        }, \"\\u786E\\u8BA4\\u8BA2\\u5355\"), React.createElement(Toast, {\n          icon: \"loading\",\n          show: this.state.showLoading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461\n          },\n          __self: this\n        }, \"Loading...\"))) : React.createElement(\"div\", {\n          className: \"App-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"checkout-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 465\n          },\n          __self: this\n        }, this.state.item.title), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 466\n          },\n          __self: this\n        }, React.createElement(CellsTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 467\n          },\n          __self: this\n        }, \"\\u9009\\u62E9\\u4EA7\\u54C1\"), listItems, React.createElement(\"div\", {\n          className: \"total-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 469\n          },\n          __self: this\n        }, \"\\u603B\\u8BA1\\uFF1A\", React.createElement(\"span\", {\n          className: \"price-number\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 469\n          },\n          __self: this\n        }, \"$\", this.state.totalPrice))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 471\n          },\n          __self: this\n        }, React.createElement(CellsTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 472\n          },\n          __self: this\n        }, \"\\u53D6\\u8D27\\u5730\\u70B9* \"), React.createElement(Cells, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        }, React.createElement(Cell, {\n          href: \"javascript:;\",\n          access: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 474\n          },\n          __self: this\n        }, React.createElement(CellBody, {\n          onClick: function onClick(e) {\n            return _this4.setState({\n              ios_show: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 475\n          },\n          __self: this\n        }, \"\\u5F53\\u524D\\u9009\\u62E9:\"), locationsList, React.createElement(CellFooter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 479\n          },\n          __self: this\n        })), this.state.showLocation ? React.createElement(\"div\", {\n          className: \"location\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 483\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"location-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 484\n          },\n          __self: this\n        }, \"\\u540D\\u79F0\\uFF1A\", this.state.item.company.pickup_locations[this.state.locationId].title), React.createElement(\"div\", {\n          className: \"location-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 486\n          },\n          __self: this\n        }, \"\\u4F4D\\u7F6E\\uFF1A\", this.state.item.company.pickup_locations[this.state.locationId].address.street), React.createElement(\"div\", {\n          className: \"location-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 488\n          },\n          __self: this\n        }, \"\\u63CF\\u8FF0\\uFF1A\", this.state.item.company.pickup_locations[this.state.locationId].description)) : null), React.createElement(CellsTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 495\n          },\n          __self: this\n        }, \"\\u8054\\u7CFB\\u65B9\\u5F0F* \"), React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 496\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 497\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 498\n          },\n          __self: this\n        }, React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499\n          },\n          __self: this\n        }, \"\\u59D3\\u540D\")), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"text\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\",\n          name: \"name\",\n          value: this.state.name,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 502\n          },\n          __self: this\n        }))), React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507\n          },\n          __self: this\n        }, React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 508\n          },\n          __self: this\n        }, \"\\u8054\\u7CFB\\u65B9\\u5F0F\")), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 510\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"text\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\",\n          name: \"contact_number\",\n          value: this.state.contact_number,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 511\n          },\n          __self: this\n        }))), React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 515\n          },\n          __self: this\n        }, React.createElement(CellHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516\n          },\n          __self: this\n        }, React.createElement(Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 517\n          },\n          __self: this\n        }, \"\\u5730\\u5740\")), React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 519\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"text\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u5730\\u5740\",\n          name: \"address\",\n          value: this.state.address,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 520\n          },\n          __self: this\n        })))), React.createElement(CellsTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 525\n          },\n          __self: this\n        }, \"\\u5907\\u6CE8\"), React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 526\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 527\n          },\n          __self: this\n        }, React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 528\n          },\n          __self: this\n        }, React.createElement(TextArea, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u672C\",\n          rows: \"5\",\n          name: \"notes\",\n          value: this.state.notes,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 529\n          },\n          __self: this\n        })))), React.createElement(CellsTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 534\n          },\n          __self: this\n        }, \"\\u79C1\\u5BC6\\u53C2\\u52A0\"), React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 535\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 536\n          },\n          __self: this\n        }, React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 537\n          },\n          __self: this\n        }, React.createElement(FormCell, {\n          switch: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538\n          },\n          __self: this\n        }, React.createElement(CellBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539\n          },\n          __self: this\n        }, \"\\u5F00\\u542F\\u540E\\u5C06\\u9690\\u85CF\\u60A8\\u7684\\u5934\\u50CF\"), React.createElement(CellFooter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 540\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          onClick: this.switch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 541\n          },\n          __self: this\n        })))))), React.createElement(\"div\", {\n          className: \"checkout-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 547\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"primary\",\n          onClick: function onClick() {\n            _this4.placeOrder();\n          },\n          disabled: this.state.totalPrice !== 0 && this.state.name && this.state.contact_number && this.state.address && this.state.showLocation ? false : true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 548\n          },\n          __self: this\n        }, \"\\u6211\\u8981\\u4E0B\\u5355\")))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 561\n          },\n          __self: this\n        }, React.createElement(Head, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 562\n          },\n          __self: this\n        }, React.createElement(\"meta\", {\n          name: \"viewport\",\n          content: \"initial-scale=1.0, width=device-width\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 563\n          },\n          __self: this\n        })), React.createElement(\"header\", {\n          className: \"App-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 565\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 566\n          },\n          __self: this\n        }, \"ShowMine\")), React.createElement(LoadMore, {\n          loading: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 570\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return checkoutPage;\n}(Component);\n\nexport default checkoutPage;","map":{"version":3,"sources":["/Users/Zac/Sysbox/SHM_React/shm-react/my-app/pages/checkoutPage.js"],"names":["React","Component","Button","TextArea","ActionSheet","Switch","Radio","Cells","CellsTitle","Cell","CellHeader","CellBody","CellFooter","Form","FormCell","Input","Label","LoadMore","Toast","ItemService","JielongService","PaymentService","Head","Config","checkoutPage","props","console","log","state","locationId","configObj","jielong","id","item_id","webAddress","params","config","item_comment_id","payment_method","getToPay","then","response","json","responseJson","setState","payment","window","open","pay_url","showLoading","catch","error","processPayment","showLocation","ios_show","actions","label","onClick","hide","bind","quantity","itemId","name","contact_number","address","notes","hideAvatar","pickup_location","quantityOfChildren","priceOfChildren","totalPrice","loadingTimer","is_update","handleChange","switch","handlePayment","handleQuantity","item_url","item","voucher_base_url","generateVoucher","voucher","url","event","target","value","index","length","Number","children","price","handleTotalPrice","undefined","query","getItemDetail","clearTimeout","locationsList","company","pickup_locations","map","location","title","e","listItems","images","minus","plus","locations","checkoutLists","fontSize","color","online_payment","addJielong","street","description","placeOrder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Button, TextArea, ActionSheet, Switch, Radio, Cells, CellsTitle, Cell, CellHeader, CellBody, CellFooter, Form, FormCell, Input, Label, LoadMore, Toast} from'react-weui';\nimport ItemService from '../service/ItemService';\nimport JielongService from '../service/JielongService';\nimport PaymentService from '../service/PaymentService'\n\n\n//import styles\nimport 'weui';\nimport 'react-weui/build/packages/react-weui.css';\n\n\n//import component\nimport Head from \"../components/head\";\nimport {Config} from \"../Config\";\n\n\n\nclass checkoutPage extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            jielong: 'none',\n            payment: 'none',\n            processPayment: false,\n            showLocation: false,\n            ios_show: false,\n            actions: [\n                {\n                    label: '取消',\n                    onClick: this.hide.bind(this)\n                }\n            ],\n            quantity: 0,\n            itemId: '',\n            name:'',\n            contact_number: '',\n            address: '',\n            notes: '',\n            hideAvatar: true,\n            payment_method: null,\n            pickup_location: '',\n            quantityOfChildren: [],\n            priceOfChildren: [],\n            totalPrice: 0,\n            showLoading: false,\n            loadingTimer: null,\n            is_update: false,\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.switch = this.switch.bind(this);\n        this.handlePayment = this.handlePayment.bind(this);\n        this.handleQuantity = this.handleQuantity.bind(this);\n    }\n\n    placeOrder() {\n        this.setState({\n            processPayment: true,\n        });\n    }\n\n    addJielong = () => {\n        console.log(this.state.locationId);\n        // this.setState({showLoading: true});\n        // let id  = this.state.itemId;\n        // let configObj = {};\n        // let params = {\n        //     comments:this.state.notes,\n        //     config: JSON.stringify(configObj),\n        //     item_url: \"https://www.showmine66.com/ma/i/\" + this.state.item.id,\n        //     location: this.state.item.company.pickup_locations[this.state.locationId].id,\n        //     is_private: this.state.hideAvatar,\n        //     quantity: [\n        //     ],\n        //     state_redirect_obj: {\n        //         url: Config.webAddress,\n        //         // url: \"http://localhost:3000\",\n        //     },\n        //     voucher_base_url: \"https://www.showmine66.com/ma/jl/vci/VOUCHERID\",\n        //     wechat_auth_url: \"https://www.showmine66.com/a/wu?domain=https%253A%252F%252Fwww.showmine66.com&origurl=https%253A%252F%252Fwww.showmine66.com%252Fma%252Fi%252Fdbfcefa936b4cd6d5709953b5ea12673%2523app-top\"\n        // };\n        // for (let index = 0; index <= this.state.quantityOfChildren.length; index++) {\n        //     if (this.state.quantityOfChildren[index]!==null && this.state.quantityOfChildren[index]!== undefined) {\n        //         params.quantity.push({\n        //             item_id: this.state.item.children[index].id,\n        //             quantity: this.state.quantityOfChildren[index],\n        //             price: this.state.priceOfChildren[index].toString(),\n        //         });\n        //     }\n        // }\n        // if (this.state.is_update) {\n        //     JielongService.updateJielong(params, id)\n        //         .then((response) => response.json())\n        //         .then((responseJson) => {\n        //             this.setState({\n        //                 jielong: responseJson,\n        //             });\n        //             if(this.state.payment_method == \"NoPayment\") {\n        //                 this.generateVoucher();\n        //             }\n        //             else {\n        //                 this.processPayment();\n        //             }\n        //         })\n        //         .catch((error) => {\n        //             console.error(error);\n        //         });\n        // }\n        // else {\n        //     JielongService.addJielong(params, id)\n        //         .then((response) => response.json())\n        //         .then((responseJson) => {\n        //             this.setState({\n        //                 jielong: responseJson,\n        //             });\n        //             if(this.state.payment_method == \"NoPayment\") {\n        //                 this.generateVoucher();\n        //             }\n        //             else {\n        //                 this.processPayment();\n        //             }\n        //         })\n        //         .catch((error) => {\n        //             console.error(error);\n        //         });\n        // }\n    };\n\n    processPayment= () => {\n        // \"redirectUrl\": Config.webAddress + \"index?itemId=\" + this.state.jielong.item_id\n        let configObj = {\"source\":\"jielong_payment\", \"item_comment_id\": this.state.jielong.id, \"item_id\": this.state.jielong.item_id, \"redirectUrl\": Config.webAddress + \"index?itemId=\" + this.state.jielong.item_id};\n        let params = {\n            config: JSON.stringify(configObj),\n            item_comment_id: this.state.jielong.id,\n            payment_method: this.state.payment_method,\n        };\n        PaymentService.getToPay(params)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.setState({\n                    payment: responseJson,\n                });\n                window.open(responseJson.pay_url,\"_self\");\n                this.setState({showLoading: false});\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    };\n\n    generateVoucher() {\n        let id = this.state.jielong.id;\n        let params = {\n            is_update: this.state.is_update,\n            item_url: \"https://www.showmine66.com/ma/i/\" + this.state.item.id,\n            voucher_base_url: \"https://www.showmine66.com/ma/jl/vci/VOUCHERID\",\n        };\n        JielongService.generateVoucher(params, id)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.setState({\n                    voucher: responseJson,\n                });\n                window.open(responseJson.url,\"_self\");\n                this.setState({showLoading: false});\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    handleChange(event) {\n        this.setState({[event.target.name]: event.target.value});\n    }\n\n    handleTotalPrice() {\n        this.state.totalPrice = 0;\n        for(var index = 0; index <= this.state.priceOfChildren.length; index++) {\n            if (this.state.priceOfChildren[index]) {\n                this.state.totalPrice = this.state.totalPrice + this.state.priceOfChildren[index];\n            }\n        }\n        this.setState({\n            totalPrice: this.state.totalPrice,\n        })\n    }\n\n    handleQuantity(event) {\n        this.state.quantityOfChildren[event.target.name] = Number(event.target.value);\n        this.state.priceOfChildren[event.target.name] = this.state.quantityOfChildren[event.target.name] * this.state.item.children[event.target.name].price;\n        this.setState({\n            quantityOfChildren: this.state.quantityOfChildren,\n            priceOfChildren: this.state.priceOfChildren,\n        })\n        this.handleTotalPrice();\n\n    }\n\n    minus(index) {\n        if (!this.state.quantityOfChildren[index] || this.state.quantityOfChildren[index]===null || this.state.quantityOfChildren[index]===undefined || this.state.quantityOfChildren[index]===0 )\n        {\n            console.log('Cannot minus');\n        } else {\n            this.state.quantityOfChildren[index] = this.state.quantityOfChildren[index] - 1;\n            this.state.priceOfChildren[index] = this.state.quantityOfChildren[index] * this.state.item.children[index].price;\n            this.setState({\n                quantityOfChildren: this.state.quantityOfChildren,\n                priceOfChildren: this.state.priceOfChildren,\n            })\n            this.handleTotalPrice();\n\n        }\n    }\n\n    plus(index) {\n        if (!this.state.quantityOfChildren[index] || this.state.quantityOfChildren[index]===null || this.state.quantityOfChildren[index]===undefined)\n        {\n            this.state.quantityOfChildren[index] = 0;\n        }\n        this.state.quantityOfChildren[index] = this.state.quantityOfChildren[index] + 1;\n        this.state.priceOfChildren[index] = this.state.quantityOfChildren[index] * this.state.item.children[index].price;\n        this.setState({\n            quantityOfChildren: this.state.quantityOfChildren,\n            priceOfChildren: this.state.priceOfChildren,\n        })\n        this.handleTotalPrice();\n\n    }\n\n    handlePayment(event) {\n        this.setState({\n            payment_method: event.target.value\n        })\n    }\n\n    switch(){\n        this.setState({hideAvatar: !this.state.hideAvatar});\n    }\n\n    hide(){\n        this.setState({\n            ios_show: false,\n        });\n    }\n\n    componentDidMount() {\n        let params = this.props.url.query.itemId;\n        if (this.props.url.query.is_update) {\n            this.setState({\n                is_update: this.props.url.query.is_update,\n            });\n        }\n        ItemService.getItemDetail(params)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.setState({\n                    item: responseJson,\n                    itemId: responseJson.id,\n                });\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }\n\n    componentWillUnmount() {\n        this.state.loadingTimer && clearTimeout(this.state.loadingTimer);\n    }\n\n    render() {\n        /**\n         * Display the pickup locations list\n         */\n        let locationsList = null;\n        if (this.state.item) {\n            locationsList = this.state.item.company.pickup_locations.map((location) =>\n                <ActionSheet\n                    key={location.id}\n                    menus={\n                        [{\n                            label: location.title,\n                            onClick: ()=> {\n                                this.setState({\n                                        locationId: 10,\n                                        showLocation: true,\n                                    }\n                                );\n                                this.hide();\n                            }\n                        },]\n                    }\n                    actions={this.state.actions}\n                    show={this.state.ios_show}\n                    type=\"ios\"\n                    onRequestClose={e=>this.setState({ios_show: false})}\n                />\n            );\n        }\n\n        /**\n         * Display children & handle the quantity for each one\n         */\n        let listItems = null;\n        if (this.state.item)\n        {\n            listItems = this.state.item.children.map((item, index) =>\n                <div key={index}>\n                    <div className='checkout-info'>\n                        {item.images[0] ?\n                            ( <div className='checkout-img'>\n                                <img height={150} width={150} src={item.images[0].url} role=\"presentation\"/>\n                            </div>)\n                            :\n                            null}\n\n                        <div className='checkout-content'>\n                            <div className='checkout-subtitle'>{item.title}</div>\n                            <div\n                                className='checkout-price'>${item.price}</div>\n\n                            <div className=\"Number-Picker\">\n                                <button className=\"picker-button\" onClick={() => {this.minus(index);}}> - </button>\n                                <input className='picker' type=\"number\" min=\"0\" max=\"1000\" name={index}\n                                       value={this.state.quantityOfChildren[index]?this.state.quantityOfChildren[index]:0}\n                                       onChange={this.handleQuantity}/>\n                                <button className=\"picker-button\" onClick={() => {this.plus(index);}}> + </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='location-tag'>{item.locations[0].title}</div>\n                    <div className='divider'/>\n                </div>\n\n            );\n        }\n\n        /**\n         * Display children & quantity for the checkout\n         */\n        let checkoutLists = null;\n        if (this.state.item)\n        {\n            checkoutLists = this.state.item.children.map((item, index) =>\n                <div key={item.id}>\n                    {this.state.quantityOfChildren[index] && this.state.quantityOfChildren[index] !== 0 ?\n                        <div>\n                            <div>{item.title} × {this.state.quantityOfChildren[index]}</div>\n                            <div>商品总额：${this.state.priceOfChildren[index]}</div>\n                        </div>\n                        :\n                        null\n                    }\n\n                </div>\n            );\n        }\n\n        /**\n         * The page content\n         */\n        if (this.state.item) {\n            return (\n                <div className=\"App\">\n                    <Head>\n                        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\"/>\n                    </Head>\n                    <header className=\"App-header\">\n                        <div>\n                            ShowMine\n                        </div>\n                    </header>\n                    {this.state.processPayment ?\n                        <div className='App-body'>\n                            <div className='payment-block'>\n                                <div\n                                    className='payment-block-title'>支付金额<span>总计：${this.state.totalPrice}</span>\n                                </div>\n                                <div className='payment-block-content'>\n                                    {checkoutLists}\n                                    <div style={{fontSize: 24}}>总计:<span style={{color: 'red'}}> ${this.state.totalPrice}</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='payment-block'>\n                                <div className='payment-block-title'>请选择支付方式:</div>\n                                <Form style={{fontSize: 16}} radio>\n\n                                    {this.state.item && this.state.item.online_payment == true ?\n                                        (<div>\n                                            <FormCell radio>\n                                                <CellHeader>\n                                                    <Radio name=\"radio1\" value=\"OMIPAY_WECHAT\"  onChange={this.handlePayment}/>\n                                                </CellHeader>\n                                                <CellBody>微信支付</CellBody>\n                                            </FormCell>\n                                            <FormCell radio>\n                                                <CellHeader>\n                                                    <Radio name=\"radio1\" value=\"银行卡支付\" onChange={this.handlePayment}/>\n                                                </CellHeader>\n                                                <CellBody>银行卡支付</CellBody>\n                                            </FormCell>\n                                            <FormCell radio>\n                                                <CellHeader>\n                                                    <Radio name=\"radio1\" value=\"PayPal支付\" onChange={this.handlePayment}/>\n                                                </CellHeader>\n                                                <CellBody>PayPal支付</CellBody>\n                                            </FormCell>\n                                        </div>)\n                                        :\n                                        <FormCell radio>\n                                            <CellHeader>\n                                                <Radio name=\"radio1\" value=\"NoPayment\"\n                                                       onChange={this.handlePayment}/>\n                                            </CellHeader>\n                                            <CellBody>到店支付</CellBody>\n                                        </FormCell>\n                                    }\n                                    <FormCell>\n                                        {this.state.payment_method == \"NoPayment\"?\n                                            <CellBody>订单已确认，请到店支付。</CellBody>\n                                            :\n                                            <CellBody>使用{this.state.payment_method}完成交易。（提示：请在30分钟内完成支付，否则订单会撤销）</CellBody>\n                                        }\n                                    </FormCell>\n                                </Form>\n                            </div>\n                            {this.state.showLocation ?\n                                <div className='payment-block'>\n                                    <div className='payment-block-title'>取货地点</div>\n                                    <Form style={{fontSize: 16}} radio>\n                                        <FormCell radio>\n                                            <CellHeader>\n                                                <Radio name=\"radio2\" defaultChecked/>\n                                            </CellHeader>\n                                            {/*<CellBody>{this.state.item.children[0].locations[0].title}</CellBody>*/}\n                                            <CellBody>{this.state.pickup_location}</CellBody>\n                                        </FormCell>\n                                    </Form>\n                                </div>\n                                :\n                                null\n                            }\n                            {this.state.notes ?\n                                <div className='payment-block'>\n                                    <div className='payment-block-title'>备注</div>\n                                    <div className='payment-block-content'>\n                                        <p>{this.state.notes}</p>\n                                    </div>\n                                </div>\n                                :\n                                null\n                            }\n                            <div className='checkout-button'>\n                                <Button type=\"primary\" onClick={() => {\n                                    this.addJielong();\n                                }}\n                                        disabled={this.state.payment_method && this.state.name && this.state.contact_number && this.state.address && this.state.showLocation ? false : true}>\n                                    确认订单\n                                </Button>\n                                <Toast icon=\"loading\" show={this.state.showLoading}>Loading...</Toast>\n                            </div>\n                        </div> :\n                        <div className='App-body'>\n                            <div className='checkout-title'>{this.state.item.title}</div>\n                            <div>\n                                <CellsTitle>选择产品</CellsTitle>\n                                {listItems}\n                                <div className='total-price'>总计：<span className='price-number'>${this.state.totalPrice}</span></div>\n                            </div>\n                            <div>\n                                <CellsTitle>取货地点* </CellsTitle>\n                                <Cells>\n                                    <Cell href=\"javascript:;\" access>\n                                        <CellBody onClick={e => this.setState({ios_show: true})}>\n                                            当前选择:\n                                        </CellBody>\n                                        {locationsList}\n                                        <CellFooter/>\n                                    </Cell>\n                                    {\n                                        this.state.showLocation ?\n                                            <div className='location'>\n                                                <div\n                                                    className='location-label'>名称：{this.state.item.company.pickup_locations[this.state.locationId].title}</div>\n                                                <div\n                                                    className='location-label'>位置：{this.state.item.company.pickup_locations[this.state.locationId].address.street}</div>\n                                                <div\n                                                    className='location-label'>描述：{this.state.item.company.pickup_locations[this.state.locationId].description}</div>\n                                            </div>\n                                            :\n                                            null\n                                    }\n                                </Cells>\n                                <CellsTitle>联系方式* </CellsTitle>\n                                <Form>\n                                    <FormCell>\n                                        <CellHeader>\n                                            <Label>姓名</Label>\n                                        </CellHeader>\n                                        <CellBody>\n                                            <Input type=\"text\" placeholder=\"请输入姓名\" name='name' value={this.state.name}\n                                                   onChange={this.handleChange}/>\n                                        </CellBody>\n                                    </FormCell>\n                                    <FormCell>\n                                        <CellHeader>\n                                            <Label>联系方式</Label>\n                                        </CellHeader>\n                                        <CellBody>\n                                            <Input type=\"text\" placeholder=\"请输入手机号\" name='contact_number'\n                                                   value={this.state.contact_number} onChange={this.handleChange}/>\n                                        </CellBody>\n                                    </FormCell>\n                                    <FormCell>\n                                        <CellHeader>\n                                            <Label>地址</Label>\n                                        </CellHeader>\n                                        <CellBody>\n                                            <Input type=\"text\" placeholder=\"请输入地址\" name='address'\n                                                   value={this.state.address} onChange={this.handleChange}/>\n                                        </CellBody>\n                                    </FormCell>\n                                </Form>\n                                <CellsTitle>备注</CellsTitle>\n                                <Form>\n                                    <FormCell>\n                                        <CellBody>\n                                            <TextArea placeholder=\"请输入文本\" rows=\"5\" name='notes' value={this.state.notes}\n                                                      onChange={this.handleChange}></TextArea>\n                                        </CellBody>\n                                    </FormCell>\n                                </Form>\n                                <CellsTitle>私密参加</CellsTitle>\n                                <Form>\n                                    <FormCell>\n                                        <CellBody>\n                                            <FormCell switch>\n                                                <CellBody>开启后将隐藏您的头像</CellBody>\n                                                <CellFooter>\n                                                    <Switch onClick={this.switch}/>\n                                                </CellFooter>\n                                            </FormCell>\n                                        </CellBody>\n                                    </FormCell>\n                                </Form>\n                                <div className='checkout-button'>\n                                    <Button type=\"primary\" onClick={() => {this.placeOrder();}}\n                                            disabled={this.state.totalPrice !== 0 && this.state.name && this.state.contact_number && this.state.address && this.state.showLocation ? false : true}>\n                                        我要下单\n                                    </Button>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                </div>\n            );\n        }\n        else {\n            return (\n                <div className=\"App\">\n                    <Head>\n                        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\"/>\n                    </Head>\n                    <header className=\"App-header\">\n                        <div>\n                            ShowMine\n                        </div>\n                    </header>\n                    <LoadMore loading></LoadMore>\n                </div>\n            );\n        }\n    }\n}\n\nexport default checkoutPage;\n"]},"metadata":{},"sourceType":"module"}