{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport fetch from 'isomorphic-unfetch';\n\nvar BaseService =\n/*#__PURE__*/\nfunction () {\n  function BaseService() {\n    _classCallCheck(this, BaseService);\n  }\n\n  _createClass(BaseService, [{\n    key: \"get\",\n    value: function get(url) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (params) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + this.queryParams(params);\n      }\n\n      return fetch(url, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8'\n        }\n      });\n    }\n  }, {\n    key: \"get2\",\n    value: function get2(url) {\n      var userToken = localStorage.getItem('userToken'); // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n\n      var authString = localStorage.getItem('authString');\n      return fetch(url, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'Authorization': 'X-Auth-Token ' + userToken,\n          'Wechat-Browser-Acc': authString\n        }\n      });\n    }\n  }, {\n    key: \"post\",\n    value: function post(url) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var userToken = localStorage.getItem('userToken');\n      var authString = localStorage.getItem('authString');\n      return fetch(url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'Authorization': 'X-Auth-Token ' + userToken,\n          'Wechat-Browser-Acc': authString\n        },\n        body: _JSON$stringify(params)\n      });\n    }\n  }, {\n    key: \"serverPost\",\n    value: function serverPost(url) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return fetch(url, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        body: _JSON$stringify(params)\n      });\n    }\n  }, {\n    key: \"put\",\n    value: function put(url) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var userToken = 'a95f6b7e569038cb2dfac8302d6d378e'; // const userToken = localStorage.getItem('userToken');\n\n      var authString = localStorage.getItem('authString');\n      return fetch(url, {\n        method: 'PUT',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'Authorization': 'X-Auth-Token ' + userToken,\n          'Wechat-Browser-Acc': authString\n        },\n        body: _JSON$stringify(params)\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(url) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var userToken = localStorage.getItem('userToken'); // const userToken = 'a95f6b7e569038cb2dfac8302d6d378e';\n\n      var authString = localStorage.getItem('authString');\n      return fetch(url, {\n        method: 'DELETE',\n        headers: {\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json;charset=UTF-8',\n          'Authorization': 'X-Auth-Token ' + userToken,\n          'Wechat-Browser-Acc': authString\n        },\n        body: _JSON$stringify(params)\n      });\n    }\n  }, {\n    key: \"queryParams\",\n    value: function queryParams(params) {\n      return _Object$keys(params).map(function (k) {\n        return encodeURIComponent(k) + '=' + encodeURIComponent(params[k]);\n      }).join('&');\n    }\n  }]);\n\n  return BaseService;\n}();\n\nvar baseService = new BaseService();\nexport default baseService;","map":null,"metadata":{},"sourceType":"module"}