{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Zac/Sysbox/SHM_React/shm-react/my-app/components/ItemDetails/ArticleDetails/ArticleComments.js\";\nimport React, { Component } from 'react';\nimport Colors from \"../../../constants/Colors\";\nimport ItemService from '../../../service/ItemService';\n\nvar ArticleComments =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArticleComments, _Component);\n\n  function ArticleComments(props) {\n    var _this;\n\n    _classCallCheck(this, ArticleComments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArticleComments).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemNormalCommentList\", function () {\n      var params = {};\n      ItemService.getItemNormalCommentList(_this.state.item.id, params).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        _this.setState({\n          commentList: responseJson.data\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    });\n\n    _this.state = {\n      item: _this.props.item,\n      defaultImage: '../../../static/assets/default_item.png'\n    };\n    return _this;\n  }\n\n  _createClass(ArticleComments, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getItemNormalCommentList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var commentList = this.state.commentList;\n      var commentListComponent = undefined;\n\n      if (commentList && commentList.length > 0) {\n        commentListComponent = commentList.map(function (comment, id) {\n          var user = comment.created_by;\n          var imageUrl = user.avatar_img && user.avatar_img > '' ? user.avatar_img : _this2.state.defaultImage;\n          return React.createElement(\"div\", {\n            key: id,\n            style: styles.commentBody,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: styles.avatarWrapper,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: imageUrl,\n            style: styles.avatar,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            style: styles.nameNComment,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            style: styles.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, user.nick_name), React.createElement(\"p\", {\n            style: styles.commentText,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, comment.comments)));\n        });\n      }\n\n      return React.createElement(\"div\", {\n        style: styles.commentWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, commentListComponent ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: styles.commentHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"\\u7CBE\\u9009\\u7559\\u8A00\")), commentListComponent) : React.createElement(\"div\", {\n        style: styles.noCommentHint,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u6682\\u65E0\\u7559\\u8A00\"));\n    }\n  }]);\n\n  return ArticleComments;\n}(Component);\n\nvar styles = {\n  commentWrapper: {\n    backgroundColor: Colors.formBackground,\n    padding: '4vw',\n    fontSize: '14px'\n  },\n  commentHeader: {\n    color: Colors.formFontGray,\n    paddingBottom: '20px'\n  },\n  noCommentHint: {\n    color: Colors.formFontGray,\n    textAlign: 'center',\n    paddingBottom: '20px'\n  },\n  commentBody: {\n    display: 'flex',\n    flexDirection: 'row',\n    paddingBottom: '20px'\n  },\n  avatarWrapper: {\n    flex: '1'\n  },\n  avatar: {\n    // width: '100%',\n    // height: '8.4w',\n    width: '32px',\n    height: '32px',\n    borderRadius: '4px'\n  },\n  nameNComment: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: '10',\n    paddingLeft: '3vw',\n    lineHeight: 'normal'\n  },\n  name: {\n    color: Colors.formFontGray\n  },\n  commentText: {\n    color: Colors.fontColor,\n    paddingRight: '5vw'\n  }\n};\nexport default ArticleComments;","map":{"version":3,"sources":["/Users/Zac/Sysbox/SHM_React/shm-react/my-app/components/ItemDetails/ArticleDetails/ArticleComments.js"],"names":["React","Component","Colors","ItemService","ArticleComments","props","params","getItemNormalCommentList","state","item","id","then","response","json","responseJson","setState","commentList","data","catch","error","console","defaultImage","commentListComponent","undefined","length","map","comment","user","created_by","imageUrl","avatar_img","styles","commentBody","avatarWrapper","avatar","nameNComment","name","nick_name","commentText","comments","commentWrapper","commentHeader","noCommentHint","backgroundColor","formBackground","padding","fontSize","color","formFontGray","paddingBottom","textAlign","display","flexDirection","flex","width","height","borderRadius","paddingLeft","lineHeight","fontColor","paddingRight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Colors from \"../../../constants/Colors\";\nimport ItemService from '../../../service/ItemService';\n\nclass ArticleComments extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            item: this.props.item,\n            defaultImage: '../../../static/assets/default_item.png'\n        };\n    }\n\n    componentDidMount() {\n        this.getItemNormalCommentList();\n    }\n\n    getItemNormalCommentList = () => {\n        let params = {};\n        ItemService.getItemNormalCommentList(this.state.item.id, params)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                this.setState({\n                    commentList: responseJson.data\n                });\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    };\n\n    render(){\n        const commentList = this.state.commentList;\n        let commentListComponent = undefined;\n        if (commentList && commentList.length > 0) {\n            commentListComponent = commentList.map((comment, id) => {\n                let user = comment.created_by;\n                let imageUrl = user.avatar_img  && user.avatar_img > '' ? user.avatar_img : this.state.defaultImage;\n                return (\n                    <div key={id} style={styles.commentBody}>\n                        <div style={styles.avatarWrapper}>\n                            <img src={imageUrl} style={styles.avatar}/>\n                        </div>\n\n                        <div style={styles.nameNComment}>\n                            <p style={styles.name}>{user.nick_name}</p>\n                            <p style={styles.commentText}>{comment.comments}</p>\n                        </div>\n                    </div>\n                );\n            });\n        }\n\n        return (\n            <div style={styles.commentWrapper}>\n                {\n                    commentListComponent ?\n                        <div>\n                            <div style={styles.commentHeader}>\n                                <div>精选留言</div>\n                                {/*<div>留言</div>*/}\n                            </div>\n                            { commentListComponent }\n                        </div>\n                        :\n                        <div style={styles.noCommentHint}>暂无留言</div>\n                }\n            </div>\n        )\n    }\n}\n\nconst styles = {\n    commentWrapper: {\n        backgroundColor: Colors.formBackground,\n        padding : '4vw',\n        fontSize: '14px'\n    },\n    commentHeader: {\n        color: Colors.formFontGray,\n        paddingBottom: '20px'\n    },\n    noCommentHint: {\n        color: Colors.formFontGray,\n        textAlign: 'center',\n        paddingBottom: '20px'\n    },\n    commentBody: {\n        display: 'flex',\n        flexDirection: 'row',\n        paddingBottom: '20px'\n    },\n    avatarWrapper: {\n        flex: '1',\n    },\n    avatar: {\n        // width: '100%',\n        // height: '8.4w',\n        width: '32px',\n        height: '32px',\n        borderRadius: '4px'\n    },\n    nameNComment: {\n        display: 'flex',\n        flexDirection: 'column',\n        flex: '10',\n        paddingLeft: '3vw',\n        lineHeight: 'normal'\n    },\n    name: {\n      color: Colors.formFontGray\n    },\n    commentText: {\n        color: Colors.fontColor,\n        paddingRight: '5vw'\n    }\n\n};\n\nexport default ArticleComments;\n\n"]},"metadata":{},"sourceType":"module"}