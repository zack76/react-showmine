{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Zac/Sysbox/SHM_React/shm-react/my-app/pages/itemDetails.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport 'weui';\nimport 'react-weui/build/packages/react-weui.css';\nimport ItemService from '../service/ItemService';\nimport SiteHeader from '../components/Common/SiteHeader';\nimport SiteFooter from \"../components/Common/SiteFooter\";\nimport JieLongDetailComponent from \"../components/ItemDetails/JieLongDetails/JieLongDetailComponent\";\nimport ProductDetailComponent from \"../components/ItemDetails/ProductDetails/ProductDetailComponent\";\nimport ArticleDetailComponent from \"../components/ItemDetails/ArticleDetails/ArticleDetailComponent\";\n\nvar itemDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(itemDetails, _Component);\n\n  function itemDetails(props) {\n    var _this;\n\n    _classCallCheck(this, itemDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(itemDetails).call(this, props));\n    _this.state = {\n      item: _this.props.item,\n      isLogin: false,\n      itemType: _this.props.item.predefinedTags['1']\n    };\n    return _this;\n  }\n\n  _createClass(itemDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        isLogin: localStorage.getItem('isLogIn')\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(object, nextProps) {\n      this.setState({\n        item: object.item\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var item = this.state.item ? this.state.item : undefined;\n      var isLogin = this.state.isLogIn;\n\n      var itemView = function itemView() {\n        switch (_this2.state.itemType) {\n          case 'JIE LONG':\n            return React.createElement(JieLongDetailComponent, {\n              isLogin: isLogin,\n              item: item,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49\n              },\n              __self: this\n            });\n\n          case 'product':\n            return React.createElement(ProductDetailComponent, {\n              isLogin: isLogin,\n              item: item,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 52\n              },\n              __self: this\n            });\n\n          case 'CONSULTATION':\n            return React.createElement(ArticleDetailComponent, {\n              isLogin: isLogin,\n              item: item,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 55\n              },\n              __self: this\n            });\n\n          default:\n            return React.createElement(ProductDetailComponent, {\n              isLogin: isLogin,\n              item: item,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 58\n              },\n              __self: this\n            });\n        }\n      };\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(SiteHeader, {\n        show: this.state.itemType !== 'CONSULTATION',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), itemView(), React.createElement(SiteFooter, {\n        show: this.state.itemType !== 'CONSULTATION',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return itemDetails;\n}(Component);\n\n_defineProperty(itemDetails, \"getInitialProps\",\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var req, query, res, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req, query = _ref.query;\n\n            if (!query.itemId) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return ItemService.getItemDetail(query.itemId);\n\n          case 4:\n            _context.t0 = _context.sent;\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return ItemService.getItemDetail('5284f5b0dc16fbf02daf60a679d5179f');\n\n          case 9:\n            _context.t0 = _context.sent;\n\n          case 10:\n            res = _context.t0;\n            _context.next = 13;\n            return res.json();\n\n          case 13:\n            json = _context.sent;\n            return _context.abrupt(\"return\", {\n              item: json\n            });\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\nvar styles = {};\nexport default itemDetails;","map":{"version":3,"sources":["/Users/Zac/Sysbox/SHM_React/shm-react/my-app/pages/itemDetails.js"],"names":["React","Component","ItemService","SiteHeader","SiteFooter","JieLongDetailComponent","ProductDetailComponent","ArticleDetailComponent","itemDetails","props","state","item","isLogin","itemType","predefinedTags","setState","localStorage","getItem","object","nextProps","undefined","isLogIn","itemView","id","req","query","itemId","getItemDetail","res","json","styles"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport 'weui';\nimport 'react-weui/build/packages/react-weui.css';\nimport ItemService from '../service/ItemService';\nimport SiteHeader from '../components/Common/SiteHeader';\nimport SiteFooter from \"../components/Common/SiteFooter\";\nimport JieLongDetailComponent from \"../components/ItemDetails/JieLongDetails/JieLongDetailComponent\";\nimport ProductDetailComponent from \"../components/ItemDetails/ProductDetails/ProductDetailComponent\";\nimport ArticleDetailComponent from \"../components/ItemDetails/ArticleDetails/ArticleDetailComponent\";\n\n\nclass itemDetails extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            item: this.props.item,\n            isLogin: false,\n            itemType: this.props.item.predefinedTags['1']\n        };\n    }\n\n    static getInitialProps = async({ req, query }) => {\n        let res = query.itemId ?\n            await ItemService.getItemDetail(query.itemId) :\n            await ItemService.getItemDetail('5284f5b0dc16fbf02daf60a679d5179f'); // a3067bcbd7521b4965ef8b43394aa011\n        const json = await res.json();\n        return {item: json};\n    };\n\n    componentDidMount() {\n        this.setState({\n            isLogin: localStorage.getItem('isLogIn')\n        });\n    }\n\n    componentWillReceiveProps(object, nextProps) {\n        this.setState({\n            item: object.item\n        });\n    }\n\n    render() {\n        const item = this.state.item ? this.state.item : undefined;\n        const isLogin = this.state.isLogIn;\n        const itemView = () => {\n            switch(this.state.itemType){\n                case 'JIE LONG':\n                    return <JieLongDetailComponent isLogin={isLogin} item={item} />;\n\n                case 'product':\n                    return <ProductDetailComponent isLogin={isLogin} item={item} />;\n\n                case 'CONSULTATION':\n                    return <ArticleDetailComponent isLogin={isLogin} item={item} />;\n\n                default:\n                    return <ProductDetailComponent isLogin={isLogin} item={item} />;\n            }\n        };\n\n        return (\n            <div className=\"App\" key={item.id}>\n                <SiteHeader show={this.state.itemType !== 'CONSULTATION'}/>\n\n                { itemView() }\n\n                <SiteFooter show={this.state.itemType !== 'CONSULTATION'}/>\n            </div>\n        );\n    }\n}\n\nconst styles = {\n\n};\n\nexport default itemDetails;\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}